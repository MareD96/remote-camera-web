<!DOCTYPE html>
<html>
<head>
  <title>Live Kamera Feed</title>
</head>
<body>
  <h1>ğŸ“¡ Daljinski prikaz kamere</h1>
  <button onclick="startCamera()">Start kamera</button>
  <button onclick="stopCamera()">Stop kamera</button>
  <p id="status"></p>
  <br>
  <img id="video" src="" width="640" height="480">

  <script>
    const server = "https://845f-178-220-63-170.ngrok-free.app";

    function startCamera() {
      fetch(`${server}/start-camera`, { method: 'POST' })
        .then(res => res.json())
        .then(data => {
          document.getElementById("status").textContent = "âœ… Kamera pokrenuta";
          document.getElementById("video").src = `${server}/video_feed`;
        })
        .catch(err => alert("GreÅ¡ka: " + err));
    }

    function stopCamera() {
      fetch(`${server}/stop-camera`, { method: 'POST' })
        .then(res => res.json())
        .then(data => {
          document.getElementById("status").textContent = "ğŸ›‘ Kamera ugaÅ¡ena";
          document.getElementById("video").src = "";
        })
        .catch(err => alert("GreÅ¡ka: " + err));
    }
  </script>
</body>
</html>
